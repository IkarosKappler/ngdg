{"version":3,"file":"threejs-slice-geometry-typescript-main.min.js","mappings":"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","sources":["webpack://threejs-slice-geometry-typescript/webpack/runtime/chunk loaded","webpack://threejs-slice-geometry-typescript/./src/cjs/GeometryBuilder.js","webpack://threejs-slice-geometry-typescript/./src/cjs/constants.js","webpack://threejs-slice-geometry-typescript/./src/cjs/entry.js","webpack://threejs-slice-geometry-typescript/./src/cjs/faces-from-edges.js","webpack://threejs-slice-geometry-typescript/./src/cjs/slice.js","webpack://threejs-slice-geometry-typescript/webpack/bootstrap","webpack://threejs-slice-geometry-typescript/webpack/runtime/define property getters","webpack://threejs-slice-geometry-typescript/webpack/runtime/hasOwnProperty shorthand","webpack://threejs-slice-geometry-typescript/webpack/runtime/make namespace object","webpack://threejs-slice-geometry-typescript/webpack/runtime/jsonp chunk loading","webpack://threejs-slice-geometry-typescript/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","\"use strict\";\n/**\n * Ported to TypeScript from vanilla-js by Ikaros Kappler.\n *\n * @date 2021-09-28\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GeometryBuilder = void 0;\nvar faces_from_edges_1 = require(\"./faces-from-edges\");\nvar constants_1 = require(\"./constants\");\nvar three_geometry_hellfix_1 = require(\"three-geometry-hellfix\");\nvar GeometryBuilder = /** @class */ (function () {\n    function GeometryBuilder(sourceGeometry, targetGeometry, slicePlane) {\n        this.sourceGeometry = sourceGeometry;\n        this.targetGeometry = targetGeometry;\n        this.slicePlane = slicePlane;\n        this.addedVertices = [];\n        this.addedIntersections = [];\n        this.newEdges = [[]];\n    }\n    ;\n    // TODO: check undfined?\n    // This is called without params in line ---67 but param used here as an index??\n    GeometryBuilder.prototype.startFace = function (sourceFaceIndex) {\n        this.sourceFaceIndex = sourceFaceIndex;\n        this.sourceFace = this.sourceGeometry.faces[sourceFaceIndex];\n        this.sourceFaceUvs = this.sourceGeometry.faceVertexUvs[0][sourceFaceIndex];\n        this.faceIndices = [];\n        this.faceNormals = [];\n        this.faceUvs = [];\n    };\n    ;\n    GeometryBuilder.prototype.endFace = function () {\n        var indices = this.faceIndices.map(function (index, i) {\n            return i;\n        });\n        this.addFace(indices);\n    };\n    ;\n    GeometryBuilder.prototype.closeHoles = function () {\n        var _this = this;\n        if (!this.newEdges[0].length) {\n            return;\n        }\n        (0, faces_from_edges_1.facesFromEdges)(this.newEdges)\n            .forEach(function (faceIndices) {\n            var normal = _this.faceNormal(faceIndices);\n            if (normal.dot(_this.slicePlane.normal) > .5) {\n                faceIndices.reverse();\n            }\n            _this.startFace();\n            _this.faceIndices = faceIndices;\n            _this.endFace();\n        }, this);\n    };\n    ;\n    GeometryBuilder.prototype.addVertex = function (key) {\n        this.addUv(key);\n        this.addNormal(key);\n        var index = this.sourceFace[key];\n        var newIndex;\n        if (this.addedVertices.hasOwnProperty(index)) {\n            newIndex = this.addedVertices[index];\n        }\n        else {\n            var vertex = this.sourceGeometry.vertices[index];\n            this.targetGeometry.vertices.push(vertex);\n            newIndex = this.targetGeometry.vertices.length - 1;\n            this.addedVertices[index] = newIndex;\n        }\n        this.faceIndices.push(newIndex);\n    };\n    ;\n    GeometryBuilder.prototype.addIntersection = function (keyA, keyB, distanceA, distanceB) {\n        var t = Math.abs(distanceA) / (Math.abs(distanceA) + Math.abs(distanceB));\n        this.addIntersectionUv(keyA, keyB, t);\n        this.addIntersectionNormal(keyA, keyB, t);\n        var indexA = this.sourceFace[keyA];\n        var indexB = this.sourceFace[keyB];\n        var id = this.intersectionId(indexA, indexB);\n        var index;\n        if (this.addedIntersections.hasOwnProperty(id)) {\n            index = this.addedIntersections[id];\n        }\n        else {\n            var vertexA = this.sourceGeometry.vertices[indexA];\n            var vertexB = this.sourceGeometry.vertices[indexB];\n            var newVertex = vertexA.clone().lerp(vertexB, t);\n            this.targetGeometry.vertices.push(newVertex);\n            index = this.targetGeometry.vertices.length - 1;\n            this.addedIntersections[id] = index;\n        }\n        this.faceIndices.push(index);\n        this.updateNewEdges(index);\n    };\n    ;\n    GeometryBuilder.prototype.addUv = function (key) {\n        if (!this.sourceFaceUvs) {\n            return;\n        }\n        var index = this.keyIndex(key);\n        var uv = this.sourceFaceUvs[index];\n        this.faceUvs.push(uv);\n    };\n    ;\n    GeometryBuilder.prototype.addIntersectionUv = function (keyA, keyB, t) {\n        if (!this.sourceFaceUvs) {\n            return;\n        }\n        var indexA = this.keyIndex(keyA);\n        var indexB = this.keyIndex(keyB);\n        var uvA = this.sourceFaceUvs[indexA];\n        var uvB = this.sourceFaceUvs[indexB];\n        var uv = uvA.clone().lerp(uvB, t);\n        this.faceUvs.push(uv);\n    };\n    ;\n    GeometryBuilder.prototype.addNormal = function (key) {\n        if (!this.sourceFace.vertexNormals.length) {\n            return;\n        }\n        var index = this.keyIndex(key);\n        var normal = this.sourceFace.vertexNormals[index];\n        this.faceNormals.push(normal);\n    };\n    ;\n    GeometryBuilder.prototype.addIntersectionNormal = function (keyA, keyB, t) {\n        if (!this.sourceFace.vertexNormals.length) {\n            return;\n        }\n        var indexA = this.keyIndex(keyA);\n        var indexB = this.keyIndex(keyB);\n        var normalA = this.sourceFace.vertexNormals[indexA];\n        var normalB = this.sourceFace.vertexNormals[indexB];\n        var normal = normalA.clone().lerp(normalB, t).normalize();\n        this.faceNormals.push(normal);\n    };\n    ;\n    GeometryBuilder.prototype.addFace = function (indices) {\n        var _this = this;\n        if (indices.length === 3) {\n            this.addFacePart(indices[0], indices[1], indices[2]);\n            return;\n        }\n        var pairs = [];\n        for (var i = 0; i < indices.length; i++) {\n            for (var j = i + 1; j < indices.length; j++) {\n                var diff = Math.abs(i - j);\n                if (diff > 1 && diff < indices.length - 1) {\n                    pairs.push([indices[i], indices[j]]);\n                }\n            }\n        }\n        pairs.sort((function (pairA, pairB) {\n            var lengthA = _this.faceEdgeLength(pairA[0], pairA[1]);\n            var lengthB = _this.faceEdgeLength(pairB[0], pairB[1]);\n            return lengthA - lengthB;\n        }).bind(this));\n        var a = indices.indexOf(pairs[0][0]);\n        indices = indices.slice(a).concat(indices.slice(0, a));\n        var b = indices.indexOf(pairs[0][1]);\n        var indicesA = indices.slice(0, b + 1);\n        var indicesB = indices.slice(b).concat(indices.slice(0, 1));\n        this.addFace(indicesA);\n        this.addFace(indicesB);\n    };\n    ;\n    GeometryBuilder.prototype.addFacePart = function (a, b, c) {\n        var normals = null;\n        if (this.faceNormals.length) {\n            normals = [\n                this.faceNormals[a],\n                this.faceNormals[b],\n                this.faceNormals[c],\n            ];\n        }\n        var face = new three_geometry_hellfix_1.Face3(this.faceIndices[a], this.faceIndices[b], this.faceIndices[c], normals);\n        this.targetGeometry.faces.push(face);\n        if (!this.sourceFaceUvs) {\n            return;\n        }\n        this.targetGeometry.faceVertexUvs[0].push([\n            this.faceUvs[a],\n            this.faceUvs[b],\n            this.faceUvs[c]\n        ]);\n    };\n    ;\n    GeometryBuilder.prototype.faceEdgeLength = function (a, b) {\n        var indexA = this.faceIndices[a];\n        var indexB = this.faceIndices[b];\n        var vertexA = this.targetGeometry.vertices[indexA];\n        var vertexB = this.targetGeometry.vertices[indexB];\n        return vertexA.distanceToSquared(vertexB);\n    };\n    ;\n    GeometryBuilder.prototype.intersectionId = function (indexA, indexB) {\n        return [indexA, indexB].sort().join(',');\n    };\n    ;\n    GeometryBuilder.prototype.keyIndex = function (key) {\n        return constants_1.FACE_KEYS.indexOf(key);\n    };\n    ;\n    GeometryBuilder.prototype.updateNewEdges = function (index) {\n        var edgeIndex = this.newEdges.length - 1;\n        var edge = this.newEdges[edgeIndex];\n        if (edge.length < 2) {\n            edge.push(index);\n        }\n        else {\n            this.newEdges.push([index]);\n        }\n    };\n    ;\n    GeometryBuilder.prototype.faceNormal = function (faceIndices) {\n        var _this = this;\n        var vertices = faceIndices.map((function (index) {\n            return _this.targetGeometry.vertices[index];\n        }).bind(this));\n        var edgeA = vertices[0].clone().sub(vertices[1]);\n        var edgeB = vertices[0].clone().sub(vertices[2]);\n        return edgeA.cross(edgeB).normalize();\n    };\n    ;\n    return GeometryBuilder;\n}());\nexports.GeometryBuilder = GeometryBuilder;\n//# sourceMappingURL=GeometryBuilder.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FACE_KEYS = exports.ON = exports.BACK = exports.FRONT = void 0;\nexports.FRONT = 'front';\nexports.BACK = 'back';\nexports.ON = 'on';\nexports.FACE_KEYS = ['a', 'b', 'c'];\n//# sourceMappingURL=constants.js.map","/** Expose the main function */\n\nglobalThis.sliceGeometry = require(\"./slice\").sliceGeometry;","\"use strict\";\n/**\n * Ported to TypeScript from vanilla-js by Ikaros Kappler.\n *\n * @date 2021-09-28\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.facesFromEdges = void 0;\nvar facesFromEdges = function (edges) {\n    var chains = joinEdges(edges).filter(validFace);\n    var faces = chains.map(function (chain) {\n        return chain.map(function (edge) {\n            return edge[0];\n        });\n    });\n    return faces;\n};\nexports.facesFromEdges = facesFromEdges;\nvar joinEdges = function (edges) {\n    var changes = true;\n    var chains = edges.map(function (edge) {\n        return [edge];\n    });\n    while (changes) {\n        changes = connectChains(chains);\n    }\n    chains = chains.filter(function (chain) {\n        return chain.length;\n    });\n    return chains;\n};\nvar connectChains = function (chains) {\n    chains.forEach(function (chainA, i) {\n        chains.forEach(function (chainB, j) {\n            var merged = mergeChains(chainA, chainB);\n            if (merged) {\n                delete chains[j];\n                return true;\n            }\n        });\n    });\n    return false;\n};\nvar mergeChains = function (chainA, chainB) {\n    if (chainA === chainB) {\n        return false;\n    }\n    if (chainStart(chainA) === chainEnd(chainB)) {\n        chainA.unshift.apply(chainA, chainB);\n        return true;\n    }\n    if (chainStart(chainA) === chainStart(chainB)) {\n        reverseChain(chainB);\n        chainA.unshift.apply(chainA, chainB);\n        return true;\n    }\n    if (chainEnd(chainA) === chainStart(chainB)) {\n        chainA.push.apply(chainA, chainB);\n        return true;\n    }\n    if (chainEnd(chainA) === chainEnd(chainB)) {\n        reverseChain(chainB);\n        chainA.push.apply(chainA, chainB);\n        return true;\n    }\n    return false;\n};\nvar chainStart = function (chain) {\n    return chain[0][0];\n};\nvar chainEnd = function (chain) {\n    return chain[chain.length - 1][1];\n};\nvar reverseChain = function (chain) {\n    chain.reverse();\n    chain.forEach(function (edge) {\n        edge.reverse();\n    });\n};\nvar validFace = function (chain) {\n    return chainStart(chain) === chainEnd(chain) ? 1 : 0;\n};\n//# sourceMappingURL=faces-from-edges.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sliceGeometry = void 0;\nvar GeometryBuilder_1 = require(\"./GeometryBuilder\");\nvar constants_1 = require(\"./constants\");\nvar three_geometry_hellfix_1 = require(\"three-geometry-hellfix\");\nvar sliceGeometry = function (geometry, plane, closeHoles) {\n    var sliced = new three_geometry_hellfix_1.Gmetry();\n    var builder = new GeometryBuilder_1.GeometryBuilder(geometry, sliced, plane);\n    var distances = [];\n    var positions = [];\n    geometry.vertices.forEach(function (vertex) {\n        var distance = findDistance(vertex, plane);\n        var position = distanceAsPosition(distance);\n        distances.push(distance);\n        positions.push(position);\n    });\n    geometry.faces.forEach(function (face, faceIndex) {\n        var facePositions = constants_1.FACE_KEYS.map(function (key) {\n            return positions[face[key]];\n        });\n        if (facePositions.indexOf(constants_1.FRONT) === -1 &&\n            facePositions.indexOf(constants_1.BACK) !== -1) {\n            return;\n        }\n        builder.startFace(faceIndex);\n        var lastKey = constants_1.FACE_KEYS[constants_1.FACE_KEYS.length - 1];\n        var lastIndex = face[lastKey];\n        var lastDistance = distances[lastIndex];\n        var lastPosition = positions[lastIndex];\n        constants_1.FACE_KEYS.map(function (key) {\n            var index = face[key];\n            var distance = distances[index];\n            var position = positions[index];\n            if (position === constants_1.FRONT) {\n                if (lastPosition === constants_1.BACK) {\n                    builder.addIntersection(lastKey, key, lastDistance, distance);\n                    builder.addVertex(key);\n                }\n                else {\n                    builder.addVertex(key);\n                }\n            }\n            if (position === constants_1.ON) {\n                builder.addVertex(key);\n            }\n            if (position === constants_1.BACK && lastPosition === constants_1.FRONT) {\n                builder.addIntersection(lastKey, key, lastDistance, distance);\n            }\n            lastKey = key;\n            lastIndex = index;\n            lastPosition = position;\n            lastDistance = distance;\n        });\n        builder.endFace();\n    });\n    if (closeHoles) {\n        builder.closeHoles();\n    }\n    return sliced;\n};\nexports.sliceGeometry = sliceGeometry;\nvar distanceAsPosition = function (distance) {\n    if (distance < 0) {\n        return constants_1.BACK;\n    }\n    if (distance > 0) {\n        return constants_1.FRONT;\n    }\n    return constants_1.ON;\n};\nvar findDistance = function (vertex, plane) {\n    return plane.distanceToPoint(vertex);\n};\n//# sourceMappingURL=slice.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkthreejs_slice_geometry_typescript\"] = self[\"webpackChunkthreejs_slice_geometry_typescript\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [736], () => (__webpack_require__(333)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","Object","defineProperty","exports","value","GeometryBuilder","faces_from_edges_1","constants_1","three_geometry_hellfix_1","sourceGeometry","targetGeometry","slicePlane","this","addedVertices","addedIntersections","newEdges","prototype","startFace","sourceFaceIndex","sourceFace","faces","sourceFaceUvs","faceVertexUvs","faceIndices","faceNormals","faceUvs","endFace","indices","map","index","i","addFace","closeHoles","_this","length","facesFromEdges","forEach","faceNormal","dot","normal","reverse","addVertex","key","addUv","addNormal","newIndex","hasOwnProperty","vertex","vertices","push","addIntersection","keyA","keyB","distanceA","distanceB","t","Math","abs","addIntersectionUv","addIntersectionNormal","indexA","indexB","id","intersectionId","vertexA","vertexB","newVertex","clone","lerp","updateNewEdges","keyIndex","uv","uvA","uvB","vertexNormals","normalA","normalB","normalize","pairs","j","diff","sort","pairA","pairB","faceEdgeLength","bind","a","indexOf","b","slice","concat","indicesA","indicesB","addFacePart","c","normals","face","Face3","distanceToSquared","join","FACE_KEYS","edgeIndex","edge","edgeA","sub","edgeB","cross","ON","BACK","FRONT","globalThis","sliceGeometry","edges","joinEdges","filter","validFace","chain","changes","chains","connectChains","chainA","chainB","mergeChains","chainStart","chainEnd","unshift","apply","reverseChain","GeometryBuilder_1","geometry","plane","sliced","Gmetry","builder","distances","positions","distance","findDistance","position","distanceAsPosition","faceIndex","facePositions","lastKey","lastIndex","lastDistance","lastPosition","distanceToPoint","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","keys","every","splice","r","d","definition","o","enumerable","get","obj","prop","call","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}
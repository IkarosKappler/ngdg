(()=>{var e,t={895:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeometryBuilder=void 0;var s=r(550),i=r(507),n=r(686),o=function(){function e(e,t,r){this.sourceGeometry=e,this.targetGeometry=t,this.slicePlane=r,this.addedVertices=[],this.addedIntersections=[],this.newEdges=[[]]}return e.prototype.startFace=function(e){this.sourceFaceIndex=e,this.sourceFace=this.sourceGeometry.faces[e],this.sourceFaceUvs=this.sourceGeometry.faceVertexUvs[0][e],this.faceIndices=[],this.faceNormals=[],this.faceUvs=[]},e.prototype.endFace=function(){var e=this.faceIndices.map((function(e,t){return t}));this.addFace(e)},e.prototype.closeHoles=function(){var e=this;this.newEdges[0].length&&(0,s.facesFromEdges)(this.newEdges).forEach((function(t){e.faceNormal(t).dot(e.slicePlane.normal)>.5&&t.reverse(),e.startFace(),e.faceIndices=t,e.endFace()}),this)},e.prototype.addVertex=function(e){this.addUv(e),this.addNormal(e);var t,r=this.sourceFace[e];if(this.addedVertices.hasOwnProperty(r))t=this.addedVertices[r];else{var s=this.sourceGeometry.vertices[r];this.targetGeometry.vertices.push(s),t=this.targetGeometry.vertices.length-1,this.addedVertices[r]=t}this.faceIndices.push(t)},e.prototype.addIntersection=function(e,t,r,s){var i=Math.abs(r)/(Math.abs(r)+Math.abs(s));this.addIntersectionUv(e,t,i),this.addIntersectionNormal(e,t,i);var n,o=this.sourceFace[e],a=this.sourceFace[t],c=this.intersectionId(o,a);if(this.addedIntersections.hasOwnProperty(c))n=this.addedIntersections[c];else{var h=this.sourceGeometry.vertices[o],u=this.sourceGeometry.vertices[a],d=h.clone().lerp(u,i);this.targetGeometry.vertices.push(d),n=this.targetGeometry.vertices.length-1,this.addedIntersections[c]=n}this.faceIndices.push(n),this.updateNewEdges(n)},e.prototype.addUv=function(e){if(this.sourceFaceUvs){var t=this.keyIndex(e),r=this.sourceFaceUvs[t];this.faceUvs.push(r)}},e.prototype.addIntersectionUv=function(e,t,r){if(this.sourceFaceUvs){var s=this.keyIndex(e),i=this.keyIndex(t),n=this.sourceFaceUvs[s],o=this.sourceFaceUvs[i],a=n.clone().lerp(o,r);this.faceUvs.push(a)}},e.prototype.addNormal=function(e){if(this.sourceFace.vertexNormals.length){var t=this.keyIndex(e),r=this.sourceFace.vertexNormals[t];this.faceNormals.push(r)}},e.prototype.addIntersectionNormal=function(e,t,r){if(this.sourceFace.vertexNormals.length){var s=this.keyIndex(e),i=this.keyIndex(t),n=this.sourceFace.vertexNormals[s],o=this.sourceFace.vertexNormals[i],a=n.clone().lerp(o,r).normalize();this.faceNormals.push(a)}},e.prototype.addFace=function(e){var t=this;if(3!==e.length){for(var r=[],s=0;s<e.length;s++)for(var i=s+1;i<e.length;i++){var n=Math.abs(s-i);n>1&&n<e.length-1&&r.push([e[s],e[i]])}r.sort(function(e,r){return t.faceEdgeLength(e[0],e[1])-t.faceEdgeLength(r[0],r[1])}.bind(this));var o=e.indexOf(r[0][0]),a=(e=e.slice(o).concat(e.slice(0,o))).indexOf(r[0][1]),c=e.slice(0,a+1),h=e.slice(a).concat(e.slice(0,1));this.addFace(c),this.addFace(h)}else this.addFacePart(e[0],e[1],e[2])},e.prototype.addFacePart=function(e,t,r){var s=null;this.faceNormals.length&&(s=[this.faceNormals[e],this.faceNormals[t],this.faceNormals[r]]);var i=new n.Face3(this.faceIndices[e],this.faceIndices[t],this.faceIndices[r],s);this.targetGeometry.faces.push(i),this.sourceFaceUvs&&this.targetGeometry.faceVertexUvs[0].push([this.faceUvs[e],this.faceUvs[t],this.faceUvs[r]])},e.prototype.faceEdgeLength=function(e,t){var r=this.faceIndices[e],s=this.faceIndices[t],i=this.targetGeometry.vertices[r],n=this.targetGeometry.vertices[s];return i.distanceToSquared(n)},e.prototype.intersectionId=function(e,t){return[e,t].sort().join(",")},e.prototype.keyIndex=function(e){return i.FACE_KEYS.indexOf(e)},e.prototype.updateNewEdges=function(e){var t=this.newEdges.length-1,r=this.newEdges[t];r.length<2?r.push(e):this.newEdges.push([e])},e.prototype.faceNormal=function(e){var t=this,r=e.map(function(e){return t.targetGeometry.vertices[e]}.bind(this)),s=r[0].clone().sub(r[1]),i=r[0].clone().sub(r[2]);return s.cross(i).normalize()},e}();t.GeometryBuilder=o},507:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FACE_KEYS=t.ON=t.BACK=t.FRONT=void 0,t.FRONT="front",t.BACK="back",t.ON="on",t.FACE_KEYS=["a","b","c"]},333:(e,t,r)=>{globalThis.sliceGeometry=r(213).x},550:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.facesFromEdges=void 0;t.facesFromEdges=function(e){return r(e).filter(c).map((function(e){return e.map((function(e){return e[0]}))}))};var r=function(e){for(var t=!0,r=e.map((function(e){return[e]}));t;)t=s(r);return r=r.filter((function(e){return e.length}))},s=function(e){return e.forEach((function(t,r){e.forEach((function(r,s){if(i(t,r))return delete e[s],!0}))})),!1},i=function(e,t){return e!==t&&(n(e)===o(t)?(e.unshift.apply(e,t),!0):n(e)===n(t)?(a(t),e.unshift.apply(e,t),!0):o(e)===n(t)?(e.push.apply(e,t),!0):o(e)===o(t)&&(a(t),e.push.apply(e,t),!0))},n=function(e){return e[0][0]},o=function(e){return e[e.length-1][1]},a=function(e){e.reverse(),e.forEach((function(e){e.reverse()}))},c=function(e){return n(e)===o(e)?1:0}},213:(e,t,r)=>{"use strict";t.x=void 0;var s=r(895),i=r(507),n=r(686);t.x=function(e,t,r){var c=new n.Gmetry,h=new s.GeometryBuilder(e,c,t),u=[],d=[];return e.vertices.forEach((function(e){var r=a(e,t),s=o(r);u.push(r),d.push(s)})),e.faces.forEach((function(e,t){var r=i.FACE_KEYS.map((function(t){return d[e[t]]}));if(-1!==r.indexOf(i.FRONT)||-1===r.indexOf(i.BACK)){h.startFace(t);var s=i.FACE_KEYS[i.FACE_KEYS.length-1],n=e[s],o=u[n],a=d[n];i.FACE_KEYS.map((function(t){var r=e[t],c=u[r],f=d[r];f===i.FRONT&&(a===i.BACK?(h.addIntersection(s,t,o,c),h.addVertex(t)):h.addVertex(t)),f===i.ON&&h.addVertex(t),f===i.BACK&&a===i.FRONT&&h.addIntersection(s,t,o,c),s=t,n=r,a=f,o=c})),h.endFace()}})),r&&h.closeHoles(),c};var o=function(e){return e<0?i.BACK:e>0?i.FRONT:i.ON},a=function(e,t){return t.distanceToPoint(e)}}},r={};function s(e){var i=r[e];if(void 0!==i)return i.exports;var n=r[e]={exports:{}};return t[e](n,n.exports,s),n.exports}s.m=t,e=[],s.O=(t,r,i,n)=>{if(!r){var o=1/0;for(u=0;u<e.length;u++){for(var[r,i,n]=e[u],a=!0,c=0;c<r.length;c++)(!1&n||o>=n)&&Object.keys(s.O).every((e=>s.O[e](r[c])))?r.splice(c--,1):(a=!1,n<o&&(o=n));if(a){e.splice(u--,1);var h=i();void 0!==h&&(t=h)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[r,i,n]},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={179:0};s.O.j=t=>0===e[t];var t=(t,r)=>{var i,n,[o,a,c]=r,h=0;if(o.some((t=>0!==e[t]))){for(i in a)s.o(a,i)&&(s.m[i]=a[i]);if(c)var u=c(s)}for(t&&t(r);h<o.length;h++)n=o[h],s.o(e,n)&&e[n]&&e[n][0](),e[o[h]]=0;return s.O(u)},r=self.webpackChunkthreejs_slice_geometry_typescript=self.webpackChunkthreejs_slice_geometry_typescript||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var i=s.O(void 0,[736],(()=>s(333)));i=s.O(i)})();
//# sourceMappingURL=threejs-slice-geometry-typescript-main.min.js.map